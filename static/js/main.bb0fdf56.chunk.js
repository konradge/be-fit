(this.webpackJsonpprojekt=this.webpackJsonpprojekt||[]).push([[0],{1268:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(44),i=a.n(s),o=a(18),c=a(19),l=a(20),u=a(21),p=a(22),m=a(167),d=a(75),h=(a(447),a(9)),f=a(45),v=a.n(f),E=a(62),g=a(30),y=a(115),b=a.n(y),k=a(122),w=a(48),O=a.n(w),x=O.a.create({baseURL:"https://wger.de/api/v2/"}),j=function(e){return{type:"SET_WORKOUT",payload:e}},N=function(e){return{type:"SET_INDEX",payload:e}},S=function(e){return{type:"SET_STOPPED_AT",payload:e}},D=function(e){return{type:"SET_PAUSE",payload:e}},T=function(e){return{type:"ADD_EXERCISE",payload:e}},C=function(e){return{type:"REMOVE_EXERCISE",payload:e}},W=function(e,t){return{type:"EDIT_EXERCISE",payload:{exercise:e,id:t}}},A=function(e){return{type:"ADD_TIME",payload:e}},P=function(e){return{type:"ADD_WEIGHT",payload:e}},I=a(29),R=a(58),_=a(377),U=a(378),q=a.n(U),L=function(){try{var e=JSON.parse(localStorage.getItem("state"));if(null===e)return;return JSON.parse(e)}catch(t){return}},M=function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",JSON.stringify(t))}catch(a){}};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var H={lastWorkouts:[],totalTrainingTime:0,weight:[]},K={exerciseDuration:10,pauseTime:10};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={exercise:null,workout:null,index:0,workoutStoppedAt:0,pause:void 0,searchSettings:{status:2,page:1}};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=Object(R.c)({current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EXERCISE":return X({},e,{exercise:t.payload,workoutStoppedAt:0});case"SET_WORKOUT":return X({},e,{workout:t.payload,workoutStoppedAt:0});case"SET_INDEX":return X({},e,{index:t.payload,workoutStoppedAt:0});case"SET_STOPPED_AT":return X({},e,{workoutStoppedAt:t.payload});case"SET_PAUSE":return X({},e,{pause:t.payload});case"SET_SEARCH_SETTINGS":return X({},e,{searchSettings:X({},t.payload,{page:1})});case"SET_SEARCH_PAGE":return X({},e,{searchSettings:X({},e.searchSettings,{page:t.payload})});default:return e}},userData:function(){var e,t,a,r,n,s,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{workouts:[],exercises:[],muscles:[],equipment:[],history:H,defaultValues:K},o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"CREATE_MUSCLE":return V({},i,{muscles:[].concat(Object(I.a)(i.muscles),[{id:ee(i.muscles),name:o.payload}])});case"DELETE_MUSCLE":return V({},i,{muscles:i.muscles.filter((function(e){return e.id!==o.payload}))});case"CREATE_EQUIPMENT":return V({},i,{equipment:[].concat(Object(I.a)(i.equipment),[{id:ee(i.equipment),name:o.payload}])});case"DELETE_EQUIPMENT":return V({},i,{equipment:i.muscles.filter((function(e){return e.id!==o.payload}))});case"ADD_WORKOUT":return V({},i,{workouts:[].concat(Object(I.a)(i.workouts),[{id:ee(i.workouts),title:o.payload,exercises:[],pauseTime:i.defaultValues.pauseTime}])});case"REMOVE_WORKOUT":return V({},i,{workouts:i.workouts.filter((function(e){return e.id!==o.payload}))});case"ADD_EXERCISE_TO_WORKOUT":return(e=i.workouts.find((function(e){return e.id===o.payload.workoutId})))?(e=V({},e,{exercises:[].concat(Object(I.a)(e.exercises),[{id:o.payload.exerciseId}])}),V({},i,{workouts:[].concat(Object(I.a)(i.workouts.filter((function(e){return e.id!==o.payload.workoutId}))),[e])})):i;case"REMOVE_EXERCISE_FROM_WORKOUT":return(e=i.workouts.find((function(e){return e.id===o.payload.workoutId}))).exercises.splice(o.payload.position,1),V({},i,{workouts:[].concat(Object(I.a)(i.workouts.filter((function(e){return e.id!==o.payload.workoutId}))),[e])});case"EDIT_WORKOUT":return e=V({},e=i.workouts.find((function(e){return e.id===o.payload.workoutId})),{},o.payload.workout),V({},i,{workouts:[e].concat(Object(I.a)(i.workouts.filter((function(e){return e.id!==o.payload.workoutId}))))});case"ADD_EXERCISE":var c=ee(i.exercises);return V({},i,{exercises:[].concat(Object(I.a)(i.exercises),[{id:c,name:o.payload||"Unnamed exercise "+c,duration:i.defaultValues.exerciseDuration}])});case"REMOVE_EXERCISE":var l=i.workouts.map((function(e){return V({},e,{deleted:!0,exercises:e.exercises.filter((function(e){return e.id!==o.payload}))})}));return V({},i,{exercises:i.exercises.filter((function(e){return e.id!==o.payload})),workouts:l});case"EDIT_EXERCISE":return V({},i,{exercises:[V({},o.payload.exercise,{id:o.payload.id})].concat(Object(I.a)(i.exercises.filter((function(e){return e.id!==o.payload.id}))))});case"PUSH_WORKOUT_HISTORY":return V({},i,{history:V({},i.history,{lastWorkouts:[].concat(Object(I.a)(i.history.lastWorkouts),[{date:new Date,title:o.payload}])})});case"ADD_TIME":return V({},i,{history:V({},i.history,{totalTrainingTime:i.history.totalTrainingTime+o.payload})});case"ADD_WEIGHT":return V({},i,{history:V({},i.history,{weight:[].concat(Object(I.a)(i.history.weight),[{date:new Date,weight:o.payload}])})});case"SET_DEFAULT_VALUE":try{K[o.payload.key]=parseInt(o.payload.value)}catch(f){K[o.payload.key]=o.payload.value}return V({},i,{defaultValues:K});case"DELETE_ALL":return a=o.payload.workouts?[]:o.payload.exercises?i.workouts.map((function(e){return V({},e,{exercises:[]})})):i.workouts,o.payload.exercises?r=[]:o.payload.muscles||o.payload.equipment?(o.payload.muscles&&(r=i.exercises.map((function(e){return V({},e,{muscles:e.muscles.filter((function(e){return e<=15}))})}))),o.payload.equipment&&(r=i.exercises.map((function(e){return V({},e,{equipment:e.muscles.filter((function(e){return e<=10}))})})))):r=i.exercises,n=o.payload.muscles?i.muscles.filter((function(e){return e.id<=15})):i.muscles,s=o.payload.equipment?i.equipment.filter((function(e){return e.id<=10})):i.equipment,t=i.history,o.payload.history.weight&&(t.weight=[]),o.payload.history["training time"]&&(t.totalTrainingTime=0),o.payload.history.workouts&&(t.lastWorkouts=[]),{history:t,exercises:r,workouts:a,muscles:n,equipment:s,defaultValues:K};case"SET_USER_DATA":return o.payload;case"ADD_USER_DATA":var u=o.payload;r=u.exercises,a=u.workouts,t=u.history,n=u.muscles,s=u.equipment;var p=ee(i.exercises);for(var m in r)r[m].id=p,p++;for(var d in p=ee(i.workouts),a)a[d].id=p,p++;for(var h in p=ee(i.muscles),n)n[h].id=p,p++;return V({},i,{exercises:[].concat(Object(I.a)(i.exercises),Object(I.a)(r)),workouts:[].concat(Object(I.a)(i.workouts),Object(I.a)(a)),muscles:[].concat(Object(I.a)(i.muscles),Object(I.a)(n.filter((function(e){return e.id<=15})))),equipment:[].concat(Object(I.a)(i.equipment),Object(I.a)(s.filter((function(e){return e.id<=10})))),history:{lastWorkouts:[].concat(Object(I.a)(i.history.lastWorkouts),Object(I.a)(t.lastWorkouts)),totalTrainingTime:i.history.totalTrainingTime+t.totalTrainingTime,weight:[].concat(Object(I.a)(i.history.weight),Object(I.a)(t.weight))}});case"LOAD_DEFAULT_DATA_FROM_JSON":return V({},i,{workouts:o.payload.workouts,exercises:o.payload.exercises,muscles:o.payload.muscles});case"LOAD_DEFAULT_DATA_FROM_WGER":return V({},i,{muscles:[].concat(Object(I.a)(i.muscles),Object(I.a)(o.payload.muscle)),equipment:[].concat(Object(I.a)(i.equipment),Object(I.a)(o.payload.equipment))});default:return i}},wger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languages:[],muscles:[],equipment:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DEFAULT_DATA_FROM_WGER":return Y({},e,{languages:t.payload.language,equipment:t.payload.equipment,muscles:t.payload.muscle});default:return e}}});function Q(e,t,a,r){var n=Z(a,t.exercises[e].id);r.speak({text:(t.exercises[e].duration||n.duration)+" seconds "+n.name,queue:!1})}function Z(e,t){return e.find((function(e){return e.id===t}))}function $(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()===t.getYear()}function ee(e){var t=e.map((function(e){return e.id})).sort((function(e,t){return e-t}));return 0===t.length?0:t[t.length-1]+1}function te(e){return $(e,new Date)}function ae(e){return Object(I.a)(new Set(e))}function re(e){var t=e.lastWorkouts,a=e.weight;for(var r in t)t[r].date=new Date(t[r].date);for(var n in a)a[n].date=new Date(a[n].date)}var ne=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui statistic"},n.a.createElement("div",{className:"value"},this.props.value),n.a.createElement("div",{className:"label"},this.props.label))}}]),t}(r.Component),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={lastWeight:a.props.lastWeight,weightChanged:!1,statOrder:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e;this.calcStats(),this.setState({statOrder:(e=Array.from(Array(this.statistics.length).keys()),e.sort((function(){return Math.random()-.5})))})}},{key:"componentDidUpdate",value:function(){this.calcStats()}},{key:"calcStats",value:function(){var e=this.props,t=e.userHistory,a=e.differentExercises,r=e.differentWorkouts,s=t.lastWorkouts;this.statistics=[n.a.createElement(ne,{value:this.calcWorkoutsPerWeek(),label:"workouts/week"}),n.a.createElement(ne,{value:Math.floor(t.totalTrainingTime),label:"training minutes"}),n.a.createElement(ne,{value:s.length,label:"workouts done"}),n.a.createElement(ne,{value:this.calcAverageWorkoutTime(),label:"\xd8 minutes workout time"}),this.renderWeightStatistics.bind(this),n.a.createElement(ne,{value:r,label:"different workouts"}),n.a.createElement(ne,{value:a,label:"different exercises"}),n.a.createElement(ne,{value:s.filter((function(e){return te(e.date)})).length,label:"today's workouts"}),this.renderWeightLoss.bind(this)]}},{key:"calcWorkoutsPerWeek",value:function(){var e=this.props.userHistory.lastWorkouts;if(0===e.length)return 0;var t=e[0].date,a=new Date-t,r=Math.floor(a/1e3/60/60/24/7)+1;return(e.length/r).toFixed(2)}},{key:"calcAverageWorkoutTime",value:function(){var e=(this.props.userHistory.totalTrainingTime/this.props.userHistory.lastWorkouts.length).toFixed(2);return isNaN(e)||!isFinite(e)?0:e}},{key:"renderWeightLoss",value:function(){var e=this.state.lastWeight;this.state.weightChanged||(e=this.props.lastWeight);var t=(Math.max.apply(null,this.props.userHistory.weight.map((function(e){return e.weight})))-e).toFixed(1);return n.a.createElement(ne,{value:t>=0&&t||0,label:"weight loss"})}},{key:"renderWeightStatistics",value:function(){var e=this,t=this.state.lastWeight;return this.state.weightChanged||(t=this.props.lastWeight),n.a.createElement(ne,{value:t,label:n.a.createElement("div",null,n.a.createElement("i",{className:"arrow alternate circle down icon",onClick:function(){e.setState({weightChanged:!0,lastWeight:parseFloat((t-.5).toFixed(1))})}}),"kg weight",n.a.createElement("i",{className:"arrow alternate circle up icon",onClick:function(){return e.setState({weightChanged:!0,lastWeight:parseFloat((t+.5).toFixed(1))})}}),n.a.createElement("br",null),this.state.weightChanged?n.a.createElement("div",{className:"ui icon buttons"},n.a.createElement("div",{className:"ui grey button",onClick:function(){e.setState({weightChanged:!1}),e.props.addWeight(t)}},n.a.createElement("i",{className:"save icon"})),n.a.createElement("div",{className:"ui red button",onClick:function(){e.setState({weightChanged:!1,lastWeight:e.props.lastWeight})}},n.a.createElement("i",{className:"x icon"}))):null)})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"ui three column grid stat-grid"},this.state.statOrder.map((function(t){return"function"===typeof e.statistics[t]?n.a.createElement("div",{className:"column",key:t},e.statistics[t]()):n.a.createElement("div",{className:"column",key:t},e.statistics[t])}))))}}]),t}(r.Component),ie=Object(g.b)((function(e){var t=75;return e.userData.history.weight.length>0&&(t=e.userData.history.weight[e.userData.history.weight.length-1].weight),{userHistory:e.userData.history,lastWeight:t,differentExercises:e.userData.exercises.length,differentWorkouts:e.userData.workouts.length}}),{addWeight:P})(se);function oe(e){return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},n.a.createElement("div",{className:"heading"},"WELL DONE!"),n.a.createElement("div",{className:"subheading"},"You have completed your training!")),n.a.createElement("div",{className:"finish-content"},n.a.createElement("div",{className:"ui two column grid"},n.a.createElement("div",{className:"column finish-stats"},n.a.createElement(ie,null)),n.a.createElement("div",{className:"column relative-position finish-links"},n.a.createElement("div",{className:"vertical-center"},n.a.createElement("div",{onClick:e.goToHome},n.a.createElement("div",null,n.a.createElement("i",{className:"home icon"}),"Home")),n.a.createElement("div",{onClick:e.goToOverview},n.a.createElement("div",null,n.a.createElement("i",{className:"chart line icon"}),"Overview")),n.a.createElement("div",{onClick:e.restart},n.a.createElement("div",null,n.a.createElement("i",{className:"redo icon"}),"Restart")))))))}var ce=a(168),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={key:0,lastTime:0,speech:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a,e.next=3,t.init({lang:"en-GB"});case 3:this.setState({speech:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderTime",value:function(e){return this.state.lastTime!==e&&(this.state.speech&&e>0&&e<4&&this.state.speech.speak({text:""+e,queue:!1}),this.props.addTime(1/60),this.props.setStoppedAt(this.props.exercise.duration-e),this.setState({lastTime:e})),0===e&&(this.setState({key:this.state.key+1}),this.props.next()),n.a.createElement("div",{className:"timer-description"},n.a.createElement("div",{className:"time"},e,"s"),n.a.createElement("h1",null,this.props.exercise.name))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"timer-div"},n.a.createElement(ce.CountdownCircleTimer,{className:"timer",key:""+this.props.exercise.id+this.state.key,durationSeconds:this.props.exercise.duration,colors:[["#f00",.33],["#ff0",.33],["#0f0"]],isPlaying:this.props.running,startAt:this.props.startAt,renderTime:this.renderTime.bind(this),size:500})),n.a.createElement("div",{className:"exercise-description"},n.a.createElement("h1",{className:"ui block header"},this.props.exercise.name,n.a.createElement("span",null,n.a.createElement("i",{className:"edit icon",onClick:function(){return e.props.edit()}}))),n.a.createElement("div",{className:"ui segments"},this.props.exercise.image?n.a.createElement("div",{className:"ui segment"},n.a.createElement("img",{className:"exercise-description-image",src:this.props.exercise.image,alt:"Image of "+this.props.exercise.name})):null,this.props.exercise.description?n.a.createElement("div",{className:"ui segment exercise-description-text"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.exercise.description}})):null)))}}]),t}(r.Component),ue=Object(g.b)(null,{addTime:A,setStoppedAt:S})(le),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={speech:null,lastTime:0,pauseEnded:!1,running:!0},a.beforeunload=function(){a.setState({running:!1}),a.props.setPause(a.state.lastTime)},a.renderTime=function(e){return a.state.lastTime!==e&&(a.state.speech&&e>0&&e<4&&a.state.speech.speak({text:""+e,queue:!1}),a.props.addTime(1/60),a.setState({lastTime:e})),e<=0&&(a.props.setPause(null),a.props.endPause()),n.a.createElement("div",{className:"timer-description"},n.a.createElement("div",{className:"time"},e,"s"),n.a.createElement("h1",null,"Pause..."))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("beforeunload",this.beforeunload),t=new b.a,e.next=4,t.init({lang:"en-GB"});case 4:this.setState({speech:t});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeunload),this.props.setPause(this.state.time)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"timer-div"},n.a.createElement(ce.CountdownCircleTimer,{className:"timer",startAt:0,durationSeconds:this.props.time,renderTime:this.renderTime,colors:[["#f00",.33],["#ff0",.33],["#0f0"]],isPlaying:!!this.state.running&&this.props.isRunning,size:500})),n.a.createElement("div",{className:"pause-description relative-position"},n.a.createElement("div",{className:"vertical-center"},n.a.createElement("div",{className:"next-exercise"},"Next exercise:",n.a.createElement("h1",{onClick:function(){e.setState({pauseEnded:!0}),e.props.endPause()}},n.a.createElement("i",{className:"ui angle double right icon"}),this.props.nextExercise)))))}}]),t}(r.Component),me=Object(g.b)((function(e){return{pause:e.current.pause}}),{addTime:A,setPause:D})(pe);function de(e){return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},n.a.createElement("div",{className:"heading bottom"},e.workoutTitle)),e.pause?n.a.createElement(me,{time:e.pause,isRunning:e.isRunning,endPause:e.next,nextExercise:e.exercise.name}):n.a.createElement(ue,{exercise:e.exercise,running:e.isRunning,startAt:e.exerciseStoppedTime,next:e.next,edit:function(){return e.history.push("/exercise/"+e.exercise.id)}}),n.a.createElement("div",{className:"exercise-menu"},n.a.createElement("div",{className:"ui centered grid"},n.a.createElement("div",{className:"three wide column"},n.a.createElement("i",{className:"stop icon",onClick:e.stopWorkout})),n.a.createElement("div",{className:"three wide column"},e.isRunning?n.a.createElement("i",{className:"pause icon",onClick:e.pauseTimer}):n.a.createElement("i",{className:"play icon",onClick:e.runTimer})),n.a.createElement("div",{className:"three wide column"},n.a.createElement("i",{className:"step forward icon",onClick:e.next})))))}var he=function(e){return n.a.createElement("div",{className:"ui segment"},n.a.createElement("div",{className:"loading-bar"},n.a.createElement("div",{className:"ui active inverted dimmer"},n.a.createElement("div",{className:"ui text loader"},e.message||"Loading..."))))};function fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fe(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isRunning:!0,pause:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a,e.next=3,t.init({lang:"en-GB"});case 3:this.setState({speech:t}),this.props.workoutExercises&&this.props.exercise&&(this.startExercise(),this.speak(this.props.exercise.duration-(this.props.workoutStoppedAt||0)+" seconds "+this.props.exercise.name));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.indexInWorkout!==e.indexInWorkout&&(this.props.exercise.id===e.exercise.id&&this.props.setStoppedAt(0),this.startExercise(),this.props.workoutExercises&&this.props.exercise&&!this.state.ready&&!this.props.pause&&this.speak(this.props.exercise.duration+" seconds "+this.props.exercise.name))}},{key:"startExercise",value:function(){this.setState({isRunning:!0})}},{key:"speak",value:function(e){this.state.speech&&this.state.speech.speak({text:e,queue:!1})}},{key:"finishWorkout",value:function(){this.props.pushWorkoutHistory(this.props.currentWorkout.title),this.props.setIndex(0),this.setState({ready:!0}),this.speak("Well done. workout completed!")}},{key:"next",value:function(){if(null!=this.props.pause)return this.props.setPause(null),void Q(this.props.indexInWorkout,this.props.currentWorkout,this.props.exerciseList,this.state.speech);if(this.props.exercise&&!this.state.ready)if(this.props.indexInWorkout+1>=this.props.workoutExercises.length)this.finishWorkout();else if(!this.props.pause){if(this.props.pauseTime){var e=this.props.currentWorkout.exercises[this.props.indexInWorkout+1].id,t=Z(this.props.exerciseList,e);this.speak(this.props.pauseTime+" seconds pause. prepare for "+t.name)}else Q(this.props.indexInWorkout+1,this.props.currentWorkout,this.props.exerciseList,this.state.speech);this.props.setIndex(this.props.indexInWorkout+1),this.props.setPause(this.props.pauseTime)}}},{key:"pauseTimer",value:function(){this.setState({isRunning:!1})}},{key:"runTimer",value:function(){this.setState({isRunning:!0})}},{key:"render",value:function(){var e=this;return this.state.ready?n.a.createElement("div",null,n.a.createElement(oe,{goToHome:function(){return e.props.history.push("/be-fit/")},goToOverview:function(){return e.props.history.push("/be-fit/overview")},restart:function(){e.setState({ready:!1}),e.props.setIndex(0),Q(0,e.props.currentWorkout,e.props.exerciseList,e.state.speech)}})):this.props.workoutExercises&&0!==this.props.workoutExercises.length?this.props.exercise?n.a.createElement(de,Object.assign({},this.props,{isRunning:this.state.isRunning,next:this.next.bind(this),pauseTimer:this.pauseTimer.bind(this),stopWorkout:this.finishWorkout.bind(this),runTimer:this.runTimer.bind(this)})):n.a.createElement(he,null):n.a.createElement(d.b,{to:"/workout/-1"})}}]),t}(r.Component),ge=Object(g.b)((function(e){var t,a=Z(e.userData.workouts,e.current.workout),r=e.current.index,n=ve({},a?Z(e.userData.exercises,a.exercises[r].id):null);return a.exercises[r].duration&&(n.duration=parseInt(a.exercises[r].duration)),a.exercises.length>r+1&&(t=a?ve({},Z(e.userData.exercises,a.exercises[r+1].id)):null,a.exercises[r+1].duration&&(t.duration=parseInt(a.exercises[r+1].duration))),{exercise:n,workoutExercises:a?a.exercises:null,workoutTitle:a?a.title:null,indexInWorkout:r,currentWorkout:a,exerciseStoppedTime:e.current.workoutStoppedAt,pause:e.current.pause,pauseTime:a?a.pauseTime:e.userData.defaultValues.pauseTime,exerciseList:e.userData.exercises,nextExercise:t,workoutStoppedAt:e.current.workoutStoppedAt}}),{pushWorkoutHistory:function(e){return{type:"PUSH_WORKOUT_HISTORY",payload:e}},addTime:A,setIndex:N,setStoppedAt:S,setPause:D})(Ee),ye=a(1277),be=a(1275),ke=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={active:0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname;return n.a.createElement("div",{className:"top-fixed top-menu"},n.a.createElement(ye.a,{secondary:!0,stackable:!0},n.a.createElement(ye.a.Item,null,n.a.createElement("span",{className:"logo"})),n.a.createElement(ye.a.Item,{active:"/be-fit"===t,onClick:function(){return e.props.history.push("/be-fit/")}},n.a.createElement("div",null,n.a.createElement("i",{className:"home icon"}),"Home")),n.a.createElement(be.a,{item:!0,icon:n.a.createElement("div",null,n.a.createElement("i",{className:"fas fa-dumbbell"}),"Exercises",n.a.createElement("i",{className:"caret down icon"}))},n.a.createElement(be.a.Menu,null,n.a.createElement("div",{className:"scrollable-menu"},[n.a.createElement(be.a.Item,{key:-2,onClick:function(){return e.props.history.push("/be-fit/exercise/search")}},n.a.createElement("i",{className:"search icon"}),"Search"),n.a.createElement(be.a.Item,{key:-1,onClick:function(){var t=ee(e.props.exercises);e.props.addExercise(""),e.props.history.push("/be-fit/exercise/"+t)}},n.a.createElement("i",{className:"plus icon"}),"Add exercise"),n.a.createElement("div",{className:"ui divider",key:-3}),this.props.exercises.map((function(a){return n.a.createElement(be.a.Item,{key:a.id,active:t==="/be-fit/exercise/"+a.id,onClick:function(){return e.props.history.push("/be-fit/exercise/"+a.id)}},a.name)}))]))),n.a.createElement(ye.a.Item,{active:"/be-fit/wger"===t,onClick:function(){return e.props.history.push("/be-fit/wger")}},n.a.createElement("div",null,n.a.createElement("i",{className:"fas fa-file-import"}),"Import exercises")),n.a.createElement(be.a,{item:!0,icon:n.a.createElement("div",null,n.a.createElement("i",{className:"clipboard list icon"}),"Workouts",n.a.createElement("i",{className:"caret down icon"}))},n.a.createElement(be.a.Menu,null,n.a.createElement("div",{className:"scrollable-menu"},[this.props.workouts.map((function(a){return n.a.createElement(be.a.Item,{key:a.id,active:t==="/be-fit/workout/"+a.id,onClick:function(){return e.props.history.push("/be-fit/workout/"+a.id)}},a.title)})),n.a.createElement(be.a.Item,{key:-1,onClick:function(){e.props.setWorkout(null),e.props.history.push("/be-fit/workout/-1")}},n.a.createElement("i",{className:"plus icon"}),"Add workout")]))),n.a.createElement(be.a,{item:!0,icon:n.a.createElement("div",null,n.a.createElement("i",{className:"chart pie icon"}),"Overview",n.a.createElement("i",{className:"caret down icon"}))},n.a.createElement(be.a.Menu,null,n.a.createElement(be.a.Item,{active:"/be-fit/overview#last-trainings"===t,onClick:function(){return e.props.history.push("/be-fit/overview#last-trainings")}},"Last Trainings"),n.a.createElement(be.a.Item,{active:"/be-fit/overview#body-weight"===t,onClick:function(){return e.props.history.push("/be-fit/overview#body-weight")}},"Body Weight"),n.a.createElement(be.a.Item,{active:"/be-fit/overview#statistics"===t,onClick:function(){return e.props.history.push("/be-fit/overview#statistics")}},"Statistics"))),n.a.createElement(ye.a.Item,{active:"/be-fit/settings"===t,onClick:function(){return e.props.history.push("/be-fit/settings")}},n.a.createElement("div",null,n.a.createElement("i",{className:"cogs icon"}),"Settings"))))}}]),t}(r.Component),we=Object(g.b)((function(e){return{exercises:e.userData.exercises,workouts:e.userData.workouts}}),{setWorkout:j,addExercise:T})(ke),Oe=a(121),xe=a.n(Oe),je=a(391),Ne=a.n(je),Se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).today=new Date,a.lastTrainingDates=a.props.lastWorkouts.map((function(e){return e.date})),a.state={index:null},a.uniqueDaysWithTraining=[],a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.uniqueDaysWithTraining=this.getValues(),this.setState({index:this.uniqueDaysWithTraining.length-1})}},{key:"buildTimeline",value:function(){var e=this;return n.a.createElement("div",{style:{width:"100%",height:"100px",margin:"0 auto"}},n.a.createElement(Ne.a,{index:this.state.index||0,values:this.getValues(),indexClick:function(t){e.setState({index:t})},getLabel:function(t){return t.getYear()===e.today.getYear()?xe()(t,"dd.mm."):xe()(t,"dd.mm.yy")},styles:{foreground:"darkgreen",outline:"rgb(0,0,139)"},isOpenBeginning:!1}))}},{key:"getValues",value:function(){if(0===this.lastTrainingDates.length)return[new Date];var e=this.lastTrainingDates.filter((function(e,t,a){return 0===t||!$(a[t-1],e)}));return te(e[e.length-1])?e:[].concat(Object(I.a)(e),[new Date])}},{key:"render",value:function(){var e=this,t=[];if(this.uniqueDaysWithTraining.length>0){var a=this.state.index;null==a&&(a=this.uniqueDaysWithTraining.length-1);var r=this.props.lastWorkouts.filter((function(t){return $(t.date,e.uniqueDaysWithTraining[a])})).map((function(e){return e.title}));t=(t=ae(r)).map((function(e){return{name:e,count:r.reduce((function(t,a){return t+(a===e?1:0)}),0)}}))}return n.a.createElement("div",null,this.buildTimeline(),n.a.createElement("div",{className:"ui list"},0===t.length?"--No trainings today--":t.map((function(e){return n.a.createElement("div",{key:e.name},e.count," X ",e.name)}))))}}]),t}(r.Component),De=Object(g.b)((function(e){return{lastWorkouts:e.userData.history.lastWorkouts}}))(Se),Te=a(235);function Ce(e){return n.a.createElement("div",{className:"chart"},n.a.createElement(Te.Chart,{style:{width:"500px"},labels:e.data.values.map((function(e){return e.label})),type:"line",disableAnimations:!0},n.a.createElement(Te.Dataset,{title:e.data.title,values:e.data.values.map((function(e){return parseInt(e.value)})),backgroundColor:e.backgroundColor,borderColor:e.borderColor})))}var We=a(1276),Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={open:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setOpen",value:function(e){this.props.canOpen&&this.setState({open:e})}},{key:"render",value:function(){var e=this;return n.a.createElement(We.a,{position:"left center",content:this.props.content,eventsEnabled:!0,on:"click",onClose:function(){e.setOpen(!1)},onOpen:function(){e.setOpen(!0)},open:this.state.open,trigger:this.props.trigger})}}]),t}(r.Component);Ae.defaultProps={canOpen:!0};var Pe=Ae,Ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={weightValue:0,lastAnchorTag:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({weightValue:this.props.lastWeight})}},{key:"componentDidUpdate",value:function(){this.moveToAnchorTag()}},{key:"moveToAnchorTag",value:function(){var e=this.props.history.location.hash;if(e!==this.state.lastAnchorTag&&(this.setState({lastAnchorTag:e}),e&&e.length>0)){var t=document.querySelector(e);t&&t.scrollIntoView()}}},{key:"getWeightHistory",value:function(){return this.props.weightHistory.map((function(e){return e.date.getYear()===(new Date).getYear()?{label:xe()(e.date,"dd.mm."),value:e.weight}:{label:xe()(e.date,"dd.mm.yy"),value:e.weight}}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"section",id:"last-trainings"},n.a.createElement("h1",null,"Last Trainings"),n.a.createElement(De,{latestTrainings:this.props.lastWorkouts.map((function(e){return e.date}))})),n.a.createElement("div",{className:"section",id:"body-weight"},n.a.createElement("h1",null,"Body Weight"),n.a.createElement(Ce,{data:{title:"weight",values:this.getWeightHistory()},backgroundColor:"#0ce",borderColor:"#0df"}),n.a.createElement(Pe,{trigger:n.a.createElement("button",{className:"circular ui icon button"},n.a.createElement("i",{className:"icon plus"})),content:n.a.createElement("div",null,n.a.createElement("div",{className:"ui right labeled input"},n.a.createElement("input",{type:"number",step:"0.1",min:0,value:this.state.weightValue,onChange:function(t){t.target.value>=0&&e.setState({weightValue:t.target.value})},onKeyDown:function(t){13===t.keyCode&&e.props.addWeight(e.state.weightValue)},placeholder:"Enter weight"}),n.a.createElement("div",{className:"ui basic label"},"kg")),n.a.createElement("button",{className:"ui secondary button",onClick:function(){return e.props.addWeight(e.state.weightValue)}},"Save"))})),n.a.createElement("div",{className:"section",id:"statistics"},n.a.createElement("h1",null,"Statistics"),n.a.createElement(ie,null)))}}]),t}(r.Component),Re=Object(g.b)((function(e){var t=75;return e.userData.history.weight[e.userData.history.weight.length-1]&&(t=e.userData.history.weight[e.userData.history.weight.length-1].weight),{lastWorkouts:e.userData.history.lastWorkouts,weightHistory:e.userData.history.weight,lastWeight:t}}),{addWeight:P})(Ie),_e=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"startPopupContent",value:function(){var e=this;return this.props.currentWorkout?n.a.createElement("div",{className:"ui center aligned basic vertical segment"},n.a.createElement("div",{className:"ui button",onClick:function(){return e.props.history.push("/be-fit/workout/-1")}},n.a.createElement("i",{className:"mouse pointer icon"})," Select Workout"),n.a.createElement("div",{className:"ui horizontal divider"},"Or"),n.a.createElement("div",{className:"ui buttons"},n.a.createElement("button",{className:"ui button",onClick:function(){e.props.history.push("/be-fit/workout/"+e.props.currentWorkout.id)}},n.a.createElement("i",{className:"redo icon"}),"Restart"),n.a.createElement("div",{className:"or"}),n.a.createElement("button",{className:"ui positive button",onClick:function(){return e.props.history.push("/be-fit/workout")}},n.a.createElement("i",{className:"play icon"}),"Continue"),"Hello World"),n.a.createElement("h3",null,this.props.currentWorkout.title)):n.a.createElement(d.b,{to:"/be-fit/workout/-1"})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"title"},n.a.createElement("div",{className:"heading"},"Welcome back!")),n.a.createElement("div",{className:"ui grid main"},n.a.createElement("div",{className:"ten wide column"},n.a.createElement(ie,null)),n.a.createElement("div",{className:"play-icon four wide column"},n.a.createElement(Pe,{trigger:n.a.createElement("div",{className:"start-workout"},n.a.createElement("i",{className:"fas fa-play"}),n.a.createElement("h1",null,"Start your workout NOW!")),content:this.startPopupContent(),canOpen:!0}))))}}]),t}(r.Component),Ue=Object(g.b)((function(e){return{currentWorkout:Z(e.userData.workouts,e.current.workout),state:e,exercise:e.userData.exercises[0]}}))(_e),qe=a(424);function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).customStyles={option:function(e){return Me({},e,{fontSize:"18px",fontWeight:"bold",color:"black"},a.props.customStyle.provided)},control:function(e){return Me({fontSize:"18px",fontWeight:"bold"},e,{},a.props.customStyle.control)},singleValue:function(){return Me({fontSize:"18px",fontWeight:"bold"},a.props.customStyle.singleValue)}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(qe.a,{isMulti:this.props.isMulti,styles:this.customStyles,options:this.props.options,onCreateOption:this.props.onCreate,onChange:function(t){e.props.onChange&&(Array.isArray(t)?e.props.onChange(t):t?e.props.onChange(t.value):e.props.onChange(null))},value:this.props.value,noOptionsMessage:function(){return"No options available. Type and Enter to create new!"}}))}}]),t}(r.Component);Fe.defaultProps={customStyle:{}};var Ve=Fe,He=a(183),Ke=function(e,t,a){var r=Array.from(e),n=r.splice(t,1),s=Object(k.a)(n,1)[0];return r.splice(a,0,s),r};function Be(e){return n.a.createElement(He.a,{onDragEnd:function(t){if(t.destination){var a=Ke(e.items,t.source.index,t.destination.index);e.onDragEnd(a.map((function(e){return e.id})))}}},n.a.createElement(He.c,{droppableId:"droppable"},(function(t){return n.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef}),e.items.map((function(e,t){return n.a.createElement(He.b,{key:""+e.id+t,draggableId:""+e.id+t,index:t},(function(t){return n.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),e.content)}))})),t.placeholder)})))}var Xe=function(e){return n.a.createElement(be.a,{text:e.header},n.a.createElement(be.a.Menu,null,e.items.map((function(e){return n.a.createElement(be.a.Item,{key:e.id},e.name)}))))};function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={selected:null,workout:{id:-1,title:null,exercises:[]},id:parseInt(a.props.match.params.id),title:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadWorkout()}},{key:"loadWorkout",value:function(){null==this.props.workout&&this.props.history.push("/be-fit/workout/-1")}},{key:"componentDidUpdate",value:function(e,t){null==this.props.workout&&"-1"!==this.props.match.params.id&&this.props.history.push("/be-fit/workout/-1")}},{key:"editExerciseDurationInWorkout",value:function(e,t){var a=this.props.workout.exercises.map((function(a,r){return r!==e?a:{id:a.id,duration:t}}));this.props.editWorkout(this.props.workout.id,{exercises:a})}},{key:"renderExerciseList",value:function(){var e=this;return n.a.createElement("div",{className:"field"},n.a.createElement(Be,{onDragEnd:function(t){var a=t.map((function(t){return e.props.workout.exercises.find((function(e){return e.id===t}))}));e.props.editWorkout(e.props.workout.id,{exercises:a}),e.loadWorkout()},items:this.props.workout.exercises.map((function(t,a){var r=Z(e.props.usersExercises,t.id);return r?{content:n.a.createElement("div",{className:"ui secondary inverted raised segment",key:""+r.id+a},n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"eight wide column"},r.name),n.a.createElement("div",{className:"four wide column"},n.a.createElement("div",{className:"ui right labeled mini input"},n.a.createElement("input",{type:"number",min:0,value:null==t.duration?r.duration:t.duration,onChange:function(t){t.target.value>=0&&e.editExerciseDurationInWorkout(a,parseInt(t.target.value))}}),n.a.createElement("div",{className:"ui basic label"},"seconds"))),n.a.createElement("div",{className:"one wide column"},n.a.createElement("i",{className:"large edit icon",onClick:function(){return e.props.history.push("/exercise/"+r.id)}})),n.a.createElement("div",{className:"one wide column"},n.a.createElement("i",{className:"large trash alternate icon",onClick:function(){return e.props.removeExerciseFromWorkout(a,e.props.workout.id)}})))),id:t.id}:{content:n.a.createElement("div",null),id:-1}})).filter((function(e){return void 0!==e}))}),this.renderExerciseSelector())}},{key:"renderExerciseSelector",value:function(){var e=this;return n.a.createElement("div",{className:"ui secondary inverted raised segment"},n.a.createElement(Ve,{options:this.props.usersExercises.map((function(t){return{value:t.id,label:n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"twelve wide column"},t.name),n.a.createElement("div",{className:"one wide column"},n.a.createElement("i",{className:"trash alternate icon",onClick:function(a){a.stopPropagation(),window.confirm("Are your sure that you want to permanently delete this exercise?")&&e.props.removeExercise(t.id)}})))}})),onChange:function(t){e.props.addExerciseToWorkout(t,e.props.workout.id)},onCreate:function(t){var a=ee(e.props.usersExercises);e.props.addExercise(t),e.props.addExerciseToWorkout(a,e.props.workout.id),e.props.history.push("/be-fit/exercise/"+a)},customStyle:{control:{backgroundColor:"#6F7274",border:"#aaa solid 1px"}}}))}},{key:"renderWorkoutSelector",value:function(){var e=this,t=this.props.workout||{title:"SELECT WORKOUT OR TYPE TO ADD ONE"};return n.a.createElement("div",null,n.a.createElement(Ve,{options:this.props.usersWorkouts.map((function(t){return{value:t.id,label:n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"twelve wide column"},t.title),n.a.createElement("div",{className:"one wide column"},n.a.createElement("i",{onClick:function(a){a.stopPropagation(),window.confirm("Are your sure that you want to permanently delete this workout?")&&e.props.removeWorkout(t.id)},className:"trash alternate icon"})))}})),onChange:function(t){e.state.preventSelect||(e.setState({nameError:null}),e.props.history.push("/be-fit/workout/"+t))},value:{value:t.title,label:t.title},onCreate:function(t){t.length<30?(e.setState({nameError:null}),e.props.addWorkout(t),e.props.history.push("/workout/"+ee(e.props.usersWorkouts))):(e.setState({nameError:"Workout-Name can only contain a maximum of 30 characters"}),e.props.history.push("/workout/-1"))}}),n.a.createElement("div",{className:"workout-error"},this.state.nameError))}},{key:"neededThings",value:function(e,t){var a=this,r={equipment:this.props.usersEquipment,muscles:this.props.usersMuscles},s=this.props.workout.exercises.map((function(t){return Z(a.props.usersExercises,t.id)[e]})),i=ae([].concat.apply([],s));return 0===i.length?n.a.createElement("div",null,"No ",t.toLowerCase()):n.a.createElement(Xe,{header:t,items:i.map((function(t){return Z(r[e],t)}))})}},{key:"render",value:function(){var e=this;return"-1"===this.props.match.params.id?this.renderWorkoutSelector():this.props.workout?n.a.createElement("div",null,n.a.createElement("h1",null,this.props.workout.title),n.a.createElement("form",{className:"ui form"},n.a.createElement("div",{className:"field"},this.renderWorkoutSelector()),null!==this.props.workout.title?this.renderExerciseList():null,-1!==this.props.workout.id?n.a.createElement("div",{className:"workout-information"},n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"four wide column"},n.a.createElement("div",{className:"ui segment"},this.neededThings("equipment","Needed Equipment"))),n.a.createElement("div",{className:"four wide column"},n.a.createElement("div",{className:"ui segment"},this.neededThings("muscles","Strained muscles"))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui right labeled input"},n.a.createElement("div",{className:"ui label"},"Pause time:"),n.a.createElement("input",{type:"number",min:0,value:this.props.workout.pauseTime||"",onChange:function(t){t.target.value>=0&&(e.setState({workout:Je({},e.props.workout,{pauseTime:t.target.value})}),e.props.editWorkout(e.props.workout.id,Je({},e.props.workout,{pauseTime:t.target.value})))}}),n.a.createElement("div",{className:"ui basic label"},"sec"))))):null,n.a.createElement("div",null,-1!==this.props.workout.id?n.a.createElement("div",null,n.a.createElement("button",{className:"ui green submit button"+(this.props.workout.exercises.length>0?"":" disabled"),onClick:function(){e.props.setIndex(0),e.props.setWorkout(e.props.workout.id),e.props.history.push("/be-fit/workout")}},"Start"),n.a.createElement("button",{className:"ui red button",onClick:function(t){t.preventDefault(),window.confirm("Are your sure that you want to delete permanently delete this workout?")&&e.props.removeWorkout(e.props.workout.id)}},"Delete")):null))):n.a.createElement(he,null)}}]),t}(r.Component),ze=Object(g.b)((function(e,t){var a=parseInt(t.match.params.id),r=Z(e.userData.workouts,a);return{userData:e.userData,allWorkouts:e.userData.workouts,usersWorkouts:e.userData.workouts,usersExercises:e.userData.exercises,usersEquipment:e.userData.equipment,usersMuscles:e.userData.muscles,defaultPauseTime:e.userData.defaultValues.pauseTime,workout:r}}),{setWorkout:j,addExercise:T,addWorkout:function(e){return{type:"ADD_WORKOUT",payload:e}},removeWorkout:function(e){return{type:"REMOVE_WORKOUT",payload:e}},addExerciseToWorkout:function(e,t){return{type:"ADD_EXERCISE_TO_WORKOUT",payload:{exerciseId:e,workoutId:t}}},removeExerciseFromWorkout:function(e,t){return{type:"REMOVE_EXERCISE_FROM_WORKOUT",payload:{position:e,workoutId:t}}},removeExercise:C,editWorkout:function(e,t){return{type:"EDIT_WORKOUT",payload:{workoutId:e,workout:t}}},setStoppedAt:S,setIndex:N})(Ye),Qe=a(241),Ze=a(430),$e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={spans:0},a.imageRef=n.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.imageRef.current.addEventListener("load",(function(){return e.setSpans()}))}},{key:"setSpans",value:function(){if(this.imageRef.current){var e=Math.ceil(this.imageRef.current.clientHeight/10);this.setState({spans:e})}}},{key:"render",value:function(){var e=this,t=this.props.image,a=t.alt,r=t.imageURL;return n.a.createElement("div",{style:{gridRowEnd:"span "+this.state.spans}},n.a.createElement("img",{ref:this.imageRef,alt:a,src:r,onClick:function(){return e.props.setImage(r)}}))}}]),t}(n.a.Component),et=O.a.create({baseURL:"https://api.unsplash.com/search/photos",headers:{Authorization:"Client-ID 08a0aaca34c345e60dc6b0906c21421d7d71e0851bf5aec143584f75a506ddd9"}}),tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).maxHeight=400,a.state={unsplashKeyword:"",customUrl:"",unsplashImages:null,imageStyle:{}},a.imageRef=n.a.createRef(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.imageRef.current&&this.calcImageStyle()}},{key:"componentDidUpdate",value:function(){this.imageRef.current&&!this.state.imageStyle.height&&this.calcImageStyle()}},{key:"calcImageStyle",value:function(){var e=this;this.imageRef.current.addEventListener("load",(function(){var t=e.imageRef.current,a=t.width,r=t.height,n=(e.maxHeight,e.maxHeight),s=a*(n/r);e.setState({imageStyle:{height:n,width:s}})}))}},{key:"searchImages",value:function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r,n=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/be-fit",REACT_APP_UNSPLASH_TOKEN:"08a0aaca34c345e60dc6b0906c21421d7d71e0851bf5aec143584f75a506ddd9"})),void 0!==this.cancel&&this.cancel(),e.prev=2,e.next=5,et.get("/",{params:{query:t}},{cancelToken:new O.a.CancelToken((function(e){n.cancel=e}))});case 5:a=e.sent,r=a.data.results.map((function(e){return{alt:e.alt_description,imageURL:e.urls.regular,id:e.id}})),this.state.unsplashKeyword===t&&this.setState({unsplashImages:r}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"imageSearch",value:function(){var e=this,t=this.state,a=t.unsplashKeyword,r=t.unsplashImages;if(a){if(null===r)return n.a.createElement(he,{message:"Getting results for "+a});if(0===r.length)return n.a.createElement("div",{className:"ui negative message"},n.a.createElement("div",{className:"header"},"No results found for ",a,"!"),"Please try another searchterm.");var s=r.map((function(t){return n.a.createElement($e,{key:t.id,image:t,setImage:function(t){e.setState({imageStyle:{}}),e.props.onChange({target:{value:{showImage:!0,imageUrl:t},name:"image"}})}})}));return n.a.createElement("div",{className:"image-list"},s)}return n.a.createElement("div",null,"Type keyword to search image...")}},{key:"render",value:function(){var e=this,t=this.props.value,a=t.showImage,r=t.imageUrl,s=t.alt,i=this.state,o=i.unsplashKeyword,c=i.customUrl;return a?n.a.createElement("div",{className:"ui fluid rounded image exercise-image",style:this.state.imageStyle},n.a.createElement("a",{className:"ui right corner red big label",href:"delete-image",onClick:function(e){return e.preventDefault()}},n.a.createElement("i",{className:"trash icon",onClick:function(){return e.props.onChange({target:{value:{showImage:!1},name:"image"}})}})),n.a.createElement("img",{src:r,alt:"Image of "+s,ref:this.imageRef})):n.a.createElement("div",null,n.a.createElement("div",{className:"ui placeholder segment"},n.a.createElement("div",{className:"ui two column very relaxed stackable grid"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"field"},n.a.createElement("label",{htmlFor:"urlInput"},"Provide image's URL:"),n.a.createElement("input",{id:"urlInput",value:c,onChange:function(t){e.setState({customUrl:t.target.value})},onFocus:function(){return e.setState({imageUrlFieldFocused:!0})},onBlur:function(){return e.setState({imageUrlFieldFocused:!1})},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),e.props.onChange({target:{value:{showImage:!0,imageUrl:c},name:"image"}}),e.setState({customUrl:""}))}}),this.state.imageUrlFieldFocused?n.a.createElement("div",{className:"ui pointing label"},"Press enter to set image"):null)),n.a.createElement("div",{className:"middle aligned column"},n.a.createElement("div",{className:"field"},n.a.createElement("label",{htmlFor:"unsplashInput"},"Search in unsplash.com:"),n.a.createElement(Ze.a,{width:"500px",contentStyle:{width:"430px"},trigger:n.a.createElement("input",{type:"text",id:"unsplashInput",value:o,onChange:function(t){e.searchImages(t.target.value),e.setState({unsplashKeyword:t.target.value})},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),e.searchImages(e.state.unsplashKeyword))},autoComplete:"off"}),on:"focus"},this.imageSearch())))),n.a.createElement("div",{className:"ui vertical divider"},"Or")))}}]),t}(r.Component),at=function(e){var t={muscles:e.createMuscle,equipment:e.createEquipment},a={muscles:e.deleteMuscle,equipment:e.deleteEquipment};return n.a.createElement("div",{className:"field"},n.a.createElement("label",null,e.type,":"),n.a.createElement(Ve,{isMulti:!0,onCreate:function(a){var r=ee(e[e.type]);t[e.type](a),e.handleChange({target:{value:[].concat(Object(I.a)(e.values[e.type]),[{value:r,label:a}]),name:e.type}})},onChange:function(t){e.handleChange({target:{value:t,name:e.type}})},value:(e.values[e.type]||[]).map((function(t){var a=e[e.type].find((function(e){return e.id===t.value})),r="";return a&&(r=a.name),{value:t.value,label:r}})),options:(e[e.type]||[]).map((function(t){return{value:t.id,label:n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"twelve wide column"},t.name),n.a.createElement("div",{className:"one wide column"},n.a.createElement("i",{onClick:function(r){r.stopPropagation(),a[e.type](t.id)},className:"trash alternate icon"})))}}))}))},rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={formChanged:!1,exerciseName:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.beforeunload.bind(this))}},{key:"beforeunload",value:function(e){this.state.formChanged}},{key:"componentWillUnmount",value:function(){this.setState({formChanged:!1}),window.removeEventListener("beforeunload",this.beforeunload.bind(this))}},{key:"render",value:function(){var e=this,t=this.props.exercise,a=t.name,r=t.duration,s=t.description,i=t.image,o=t.muscles,c=t.equipment;return n.a.createElement("div",{ref:function(t){return e.form=t}},n.a.createElement(d.a,{when:this.state.formChanged,message:"There are unsaved changes! Are you sure you want to leave?"}),n.a.createElement(Qe.b,{validateOnChange:!0,enableReinitialize:!0,initialValues:{name:a.startsWith("Unnamed exercise")?"":a,duration:r||this.props.defaults.exerciseDuration||null,description:s||"",muscles:(o||[]).map((function(t){var a=e.props.muscles.find((function(e){return e.id===t}));return{value:t,label:a}})),equipment:(c||[]).map((function(t){var a=e.props.equipment.find((function(e){return e.id===t}));return{value:t,label:a}})),image:{showImage:null!=i,imageUrl:i||"",alt:a,unsplashKeyword:"",customUrl:""}},validate:function(t){e.setState({formChanged:!0,exerciseName:t.name});var a={};return""===t.name&&(a.name="field name required"),t.name.length>30&&(a.name="Name can only have 30 characters"),t.duration?t.duration<=5&&(a.duration="duration must be at least 6"):a.duration="field duration required",a},onSubmit:function(t){e.setState({formChanged:!1});var a=t.name,r=t.duration,n=t.description,s=t.image,i=t.muscles,o=t.equipment;e.props.editExercise({name:a,duration:r,description:n,muscles:(i||[]).map((function(e){return e.value})),equipment:(o||[]).map((function(e){return e.value})),image:s.showImage?s.imageUrl:null},e.props.exercise.id),e.props.back()}},(function(t){var a=t.values,r=t.errors,s=t.touched,i=t.handleChange,o=t.handleBlur,c=t.handleSubmit;return n.a.createElement("form",{className:"ui form",onSubmit:c,onKeyPress:function(e){13===e.which&&e.preventDefault()}},n.a.createElement("div",{className:"required field"},n.a.createElement("label",null,"Name:"),n.a.createElement("input",{autoFocus:""===a.name,type:"text",name:"name",placeholder:"Exercise Name",onChange:i,onBlur:o,value:a.name}),r.name&&s.name&&n.a.createElement("div",{className:"form-error"},r.name)),n.a.createElement("div",{className:"required field"},n.a.createElement("label",null,"Duration (s):"),n.a.createElement("input",{autoFocus:""!==a.name&&a.duration<=5,type:"number",min:0,name:"duration",placeholder:"Duration in seconds",onChange:i,onBlur:o,value:a.duration}),r.duration&&s.duration&&n.a.createElement("div",{className:"form-error"},r.duration)),n.a.createElement(at,Object.assign({},e.props,{type:"muscles",handleChange:i,values:a})),n.a.createElement(at,Object.assign({},e.props,{type:"equipment",handleChange:i,values:a})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Description:"),n.a.createElement("textarea",{name:"description",onChange:i,value:a.description})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Image:"),n.a.createElement(Qe.a,{as:tt,onChange:i,name:"image",className:"image-field"})),n.a.createElement("button",{type:"submit",className:"ui secondary button "+(r.name||r.duration?"disabled":null)},"Save"),n.a.createElement("button",{className:"ui button",onClick:function(t){t.preventDefault(),e.props.back()}},"Abbort"),n.a.createElement("button",{type:"button",className:"ui red button",onClick:function(){window.confirm("Are your sure that you want to permanently delete this exercise?")&&(e.setState({formChanged:!1}),e.props.removeExercise(e.props.exercise.id),e.props.back())}},"Delete Exercise"))})))}}]),t}(r.Component),nt=Object(g.b)((function(e){return{defaults:e.userData.defaultValues,muscles:e.userData.muscles,equipment:e.userData.equipment}}),{editExercise:W,createMuscle:function(e){return{type:"CREATE_MUSCLE",payload:e}},deleteMuscle:function(e){return{type:"DELETE_MUSCLE",payload:e}},createEquipment:function(e){return{type:"CREATE_EQUIPMENT",payload:e}},deleteEquipment:function(e){return{type:"DELETE_EQUIPMENT",payload:e}},removeExercise:C})(rt),st=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={exercise:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getExercise(this.props.match.params.id)}},{key:"componentDidUpdate",value:function(e,t){var a=parseInt(this.props.match.params.id);t.id!==a&&this.getExercise(a)}},{key:"getExercise",value:function(e){var t=this.props.exercises.find((function(t){return t.id===parseInt(e)}));t&&this.setState({id:e,exercise:t})}},{key:"render",value:function(){var e=this;return"search"===this.props.match.params.id?null:this.state.exercise||isNaN(this.props.match.params.id)?n.a.createElement(nt,{exercise:this.state.exercise,back:this.props.history.goBack.bind(this)}):n.a.createElement("div",null,n.a.createElement("div",{className:"ui grid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"ui eight wide centered column red massive label"},"Could not find any exercise!")),n.a.createElement("div",{className:"centered row"},n.a.createElement("div",{className:"ui four wide column"},n.a.createElement("button",{className:"ui button",onClick:function(){e.props.history.goBack()}},n.a.createElement("i",{className:"arrow alternate circle left icon"}),"Back")),n.a.createElement("div",{className:"ui four wide column"},n.a.createElement("button",{className:"ui button",onClick:function(){var t=ee(e.props.exercises);e.props.addExercise(""),e.props.history.push("/be-fit/exercise/"+t)}},n.a.createElement("i",{className:"plus circle icon"}),"Add Exercise")))))}}]),t}(r.Component),it=Object(g.b)((function(e){return{exercises:e.userData.exercises}}),{editExercise:W,addExercise:T})(st),ot=a(432);function ct(e){return n.a.createElement(ot.a,{onDrop:function(t){var a=new FileReader;a.onload=function(){e.recievedFile(a.result)},a.readAsText(t[0])}},(function(t){var a=t.getRootProps,r=t.getInputProps;return n.a.createElement("div",Object.assign({className:"file-drop"},a()),n.a.createElement("input",r()),e.description)}))}var lt=function(e){var t=function(t){e.setDefaultValue(t.target.value,t.target.name)};return n.a.createElement("div",{className:"section"},n.a.createElement("h1",null,"Defaults"),n.a.createElement("form",{className:"ui form"},n.a.createElement("div",{className:"two fields"},n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Exercise duration:"),n.a.createElement("div",{className:"ui input"},n.a.createElement("input",{name:"exerciseDuration",min:0,type:"number",value:e.defaultValues.exerciseDuration,onChange:function(e){e.target.value>=0&&t(e)}}))),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Pause time:"),n.a.createElement("div",{className:"ui input"},n.a.createElement("input",{name:"pauseTime",type:"number",min:0,value:e.defaultValues.pauseTime,onChange:function(e){e.target.value>=0&&t(e)}}))))))};var ut=function(e){var t="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e.userData));return n.a.createElement("div",{className:"subsection"},n.a.createElement("h2",null,"Download all your fitness-data as JSON:"),n.a.createElement("a",{className:"ui button",href:"data:'"+t,download:"fitness-data.json",title:"Download all of your user-data"},"Download"))};function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var dt=function(e){return n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"ui toggle checkbox"},n.a.createElement("input",{type:"checkbox",checked:e.historyField?e.values.history[e.label.toLowerCase()]:e.values[e.label.toLowerCase()],onChange:function(t){e.historyField?e.setState({delete:mt({},e.values,{history:mt({},e.values.history,Object(h.a)({},e.label.toLowerCase(),t.target.checked))})}):e.setState({delete:mt({},e.values,Object(h.a)({},e.label.toLowerCase(),t.target.checked))})}}),n.a.createElement("label",null,e.label)))};function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var vt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={delete:{exercises:!0,workouts:!0,muscles:!0,equipment:!0,history:{workouts:!0,weight:!0,"training time":!0}}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"deleteAll",value:function(e){e.preventDefault(),window.confirm("Are your sure that you want to delete all of your data?")&&this.props.deleteAll(this.state.delete)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"subsection"},n.a.createElement("h2",null,"Delete data:"),n.a.createElement("form",{className:"ui form"},n.a.createElement("div",{className:"grouped fields"},n.a.createElement(dt,{setState:this.setState.bind(this),label:"Exercises",values:this.state.delete}),n.a.createElement(dt,{setState:this.setState.bind(this),label:"Workouts",values:this.state.delete}),n.a.createElement(dt,{setState:this.setState.bind(this),label:"Muscles",values:this.state.delete}),n.a.createElement(dt,{setState:this.setState.bind(this),label:"Equipment",values:this.state.delete})),n.a.createElement("div",{className:"framed"},n.a.createElement("div",{className:"grouped fields"},n.a.createElement("div",{className:"ui toggle checkbox"},n.a.createElement("input",{type:"checkbox",checked:this.state.delete.history.workouts&&this.state.delete.history.weight&&this.state.delete.history["training time"],onChange:function(t){return e.setState({delete:ft({},e.state.delete,{history:{workouts:t.target.checked,weight:t.target.checked,"training time":t.target.checked}})})}}),n.a.createElement("label",null,"History:")),n.a.createElement("div",{className:"grouped field"},n.a.createElement(dt,{historyField:!0,setState:this.setState.bind(this),label:"Weight",values:this.state.delete}),n.a.createElement(dt,{historyField:!0,setState:this.setState.bind(this),label:"Workouts",values:this.state.delete}),n.a.createElement(dt,{historyField:!0,setState:this.setState.bind(this),label:"Training Time",values:this.state.delete}))))),n.a.createElement("button",{type:"button",className:"ui red button",onClick:this.deleteAll.bind(this)},"Delete"))}}]),t}(r.Component),Et=Object(g.b)(null,{deleteAll:function(e){return{type:"DELETE_ALL",payload:e}}})(vt),gt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={overwriteChecked:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"resetAll",value:function(e){e.preventDefault(),window.confirm("Are your sure that you want to reset this app? All data will be lost!")&&(this.props.history.push("/be-fit"),localStorage.clear(),window.location.reload())}},{key:"setUserData",value:function(e){try{var t=JSON.parse(e),a=t.exercises,r=t.workouts,n=t.history;n&&re(t.history),Array.isArray(a)&&Array.isArray(r)&&n&&Array.isArray(n.lastWorkouts)&&"number"===typeof n.totalTrainingTime&&Array.isArray(n.weight)&&(this.state.overwriteChecked?this.props.setUserData(t):this.props.addUserData(t))}catch(s){this.setState({fileLoadingError:"No valid file provided"})}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(lt,{defaultValues:this.props.defaultValues,setDefaultValue:this.props.setDefaultValue}),n.a.createElement("div",{className:"section"},n.a.createElement("h1",null,"Data"),n.a.createElement(ut,{userData:this.props.userData}),n.a.createElement("div",{className:"subsection"},n.a.createElement("h2",null,"Load saved data from JSON:"),n.a.createElement("form",{className:"ui form"},n.a.createElement(ct,{recievedFile:this.setUserData.bind(this),description:"Drag or click here to upload JSON file and load it's content!"}),n.a.createElement("div",null,this.state.fileLoadingError),n.a.createElement("div",{className:"field"},n.a.createElement("div",{className:"ui checkbox"},n.a.createElement("input",{type:"checkbox",checked:this.state.overwriteChecked,onChange:function(){return e.setState({overwriteChecked:!e.state.overwriteChecked})}}),n.a.createElement("label",null,"Overwrite old data"))))),n.a.createElement("div",{className:"red-section"},n.a.createElement(Et,null),n.a.createElement("div",{className:"subsection reset"},n.a.createElement("button",{type:"button",className:"ui big red button",onClick:this.resetAll.bind(this)},"Full Reset")))))}}]),t}(r.Component),yt=Object(g.b)((function(e){return{userData:e.userData,defaultValues:e.userData.defaultValues}}),{setUserData:function(e){return{type:"SET_USER_DATA",payload:e}},setDefaultValue:function(e,t){return{type:"SET_DEFAULT_VALUE",payload:{key:t,value:e}}},addUserData:function(e){return{type:"ADD_USER_DATA",payload:e}}})(gt),bt=a(182),kt=function(e){return n.a.createElement("form",{className:"ui form"},e.showLanguages?n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Language"),n.a.createElement(bt.a,{isClearable:!0,options:e.languages.map((function(e){return{label:n.a.createElement("div",{style:{color:"black"}},n.a.createElement("i",{className:e.short_name+" flag"}),e.full_name),value:e.id}})),onChange:function(t){null===t?e.deleteKey("language"):e.setSearchSettings("language",t.value)},defaultValue:{label:(e.languages.find((function(t){return t.id===e.selected.language}))||{}).full_name,value:e.selected.language}})):null,n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Muscles"),n.a.createElement(bt.a,{isClearable:!0,options:(e.muscles||[]).map((function(e){return{label:n.a.createElement("div",{style:{color:"black"}},e.name),value:e.id}})),onChange:function(t){null===t?e.deleteKey("muscles"):e.setSearchSettings("muscles",t.value)},defaultValue:{label:(e.muscles.find((function(t){return t.id===e.selected.muscles}))||{}).name,value:e.selected.muscles}})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Equipment"),n.a.createElement(bt.a,{isClearable:!0,options:e.equipment.map((function(e){return{label:n.a.createElement("div",{style:{color:"black"}},e.name),value:e.id}})),onChange:function(t){null===t?e.deleteKey("equipment"):e.setSearchSettings("equipment",t.value)},defaultValue:{label:(e.equipment.find((function(t){return t.id===e.selected.equipment}))||{}).name,value:e.selected.equipment}})),n.a.createElement("div",{className:"field"},n.a.createElement("label",null,"Keyword",e.wgerSearch?n.a.createElement("span",null," (exact)"):null,":"),n.a.createElement("input",{type:"text",onChange:function(t){return e.setSearchSettings("name",t.target.value)},defaultValue:e.selected.name})))};function wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wt(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={exercises:null,shouldReload:!1},a.editIcon=function(e){return a.props.wgerSearch?n.a.createElement("i",{className:"plus icon",onClick:function(){var t=ee(a.props.exercises);a.props.addExercise(""),a.props.editExercise({name:e.name,description:e.description,muscles:e.muscles,equipment:e.equipment},t),a.props.history.push("/be-fit/exercise/"+t)}}):n.a.createElement("i",{className:"edit icon",onClick:function(){a.props.history.push("/be-fit/exercise/"+e.id)}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchData()}},{key:"componentDidUpdate",value:function(){this.state.shouldReload&&(this.searchData(),this.setState({shouldReload:!1}))}},{key:"searchData",value:function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({exercises:null}),a=this.props.searchSettings,!this.props.wgerSearch){e.next=10;break}return console.log(a),e.next=6,x.get("/exercise",{params:a});case 6:r=e.sent,this.setState({exercises:r.data.results,next:r.data.next,prev:r.data.previous}),e.next=11;break;case 10:this.setState({exercises:this.props.exercises.filter((function(e){var t=null==a.equipment||e.equipment.includes(a.equipment),r=null==a.muscles||e.muscles.includes(a.muscles),n=null==a.name||e.name.includes(a.name);return t&&r&&n}))});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderArrowButtons",value:function(){var e=this;return this.props.wgerSearch?n.a.createElement("div",{className:"ui two column grid"},n.a.createElement("div",{className:"right aligned column"},n.a.createElement("button",{className:"circular ui icon button"+(this.state.prev?"":" disabled"),onClick:function(){e.state.prev&&(e.searchData(e.state.prev),e.props.setSearchPage(e.props.searchSettings.page-1))}},"Previous page",n.a.createElement("i",{className:"arrow left icon"}))),n.a.createElement("div",{className:"column"},n.a.createElement("button",{className:"circular ui icon button"+(this.state.next?"":" disabled"),onClick:function(){e.state.next&&(e.searchData(e.state.next),e.props.setSearchPage(e.props.searchSettings.page+1))}},n.a.createElement("i",{className:"arrow right icon"}),"Next page"))):null}},{key:"renderResults",value:function(){var e=this;return null===this.state.exercises?n.a.createElement(he,null):0===this.state.exercises.length?n.a.createElement("div",{className:"ui negative message"},n.a.createElement("div",{className:"header"},"No results found"),n.a.createElement("p",null,"Please try with other search settings!")):this.state.exercises.map((function(t){return n.a.createElement("div",{key:t.id,className:"ui grey inverted segment grid "},n.a.createElement("div",{className:"five wide column"},t.name),n.a.createElement("div",{className:"column"},e.editIcon(t)))}))}},{key:"render",value:function(){var e=this,t={languages:this.props.languages,muscles:this.props.muscles,equipment:this.props.equipment,setSearchSettings:function(t,a){e.setState({shouldReload:!0}),e.props.setSearchSettings(Ot({},e.props.searchSettings,Object(h.a)({},t,a)))},deleteKey:function(t){var a=Ot({},e.props.searchSettings);delete a[t],e.props.setSearchSettings(a),e.setState({shouldReload:!0})},showLanguages:this.props.showLanguages};return n.a.createElement("div",null,n.a.createElement("div",{className:"ui grey inverted raised segment"},n.a.createElement(kt,Object.assign({},t,{wgerSearch:this.props.wgerSearch,selected:this.props.searchSettings}))),n.a.createElement("div",{className:"search-results"},n.a.createElement("h1",null,"Results:"),n.a.createElement("div",{className:"ui segment"},this.renderArrowButtons(),this.renderResults(),this.renderArrowButtons())))}}]),t}(r.Component),jt=Object(g.b)((function(e){return{languages:e.wger.languages,muscles:e.wger.muscles,equipment:e.wger.equipment,exercises:e.userData.exercises,searchSettings:e.current.searchSettings}}),{editExercise:W,addExercise:T,setSearchSettings:function(e){return{type:"SET_SEARCH_SETTINGS",payload:e}},setSearchPage:function(e){return{type:"SET_SEARCH_PAGE",payload:e}}})(xt),Nt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Import exercises from wger.de"),n.a.createElement(jt,{showLanguages:!0,wgerSearch:!0,history:this.props.history}))}}]),t}(r.Component),St=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Search for exercises"),n.a.createElement(jt,{history:this.props.history}))}}]),t}(r.Component),Dt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){0===this.props.muscles.length&&this.props.loadDefaultData()}},{key:"render",value:function(){return n.a.createElement(m.a,null,n.a.createElement(d.c,{path:"/(be-fit)?",component:we}),n.a.createElement("div",{className:"content"},n.a.createElement(d.c,{path:"(/be-fit)?/overview",component:Re}),n.a.createElement(d.c,{path:"(/be-fit)?/workout",component:ge,exact:!0}),n.a.createElement(d.c,{path:"(/be-fit)?/workout/:id",component:ze}),n.a.createElement(d.c,{path:"(/be-fit)?/exercise/:id",component:it}),n.a.createElement(d.c,{path:"(/be-fit)?/exercise/search",component:St}),n.a.createElement(d.c,{path:"(/be-fit)?/settings",component:yt}),n.a.createElement(d.c,{path:"(/be-fit)?/wger",component:Nt}),n.a.createElement(d.c,{path:"(/be-fit)?/",component:Ue,exact:!0})))}}]),t}(r.Component),Tt=Object(g.b)((function(e){return{muscles:e.wger.muscles,exercise:e.userData.exercises[0]}}),{loadDefaultData:function(){return function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r,n,s,i,o,c,l,u,p,m,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.all([O.a.get("/defaultData/workouts.json"),O.a.get("/defaultData/exercises.json"),O.a.get("/defaultData/muscles.json")]);case 3:s=e.sent,i=Object(k.a)(s,3),a=i[0],r=i[1],n=i[2],e.next=19;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,O.a.all([O.a.get("/be-fit/defaultData/workouts.json"),O.a.get("/be-fit/defaultData/exercises.json"),O.a.get("/be-fit/defaultData/muscles.json")]);case 14:o=e.sent,c=Object(k.a)(o,3),a=c[0],r=c[1],n=c[2];case 19:return t({type:"LOAD_DEFAULT_DATA_FROM_JSON",payload:{workouts:a.data,exercises:r.data,muscles:n.data}}),e.next=22,O.a.all([x.get("/language.json"),x.get("/muscle.json"),x.get("/equipment.json")]);case 22:l=e.sent,u=Object(k.a)(l,3),p=u[0],m=u[1],d=u[2],t({type:"LOAD_DEFAULT_DATA_FROM_WGER",payload:{language:p.data.results,muscle:m.data.results,equipment:d.data.results}});case 28:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}})(Dt);i.a.render(n.a.createElement(g.a,{store:function(){var e=L();e&&re((e=e.state).userData.history);var t=Object(R.e)(z,e,Object(R.a)(_.a));return t.subscribe((function(){M({state:t.getState()})})),t.subscribe(q()((function(){M({state:t.getState()})}),1e3)),t}()},n.a.createElement(Tt,null)),document.querySelector("#root"))},336:function(e,t){},442:function(e,t,a){e.exports=a(1268)},447:function(e,t,a){},863:function(e,t){},864:function(e,t){}},[[442,1,2]]]);
//# sourceMappingURL=main.bb0fdf56.chunk.js.map